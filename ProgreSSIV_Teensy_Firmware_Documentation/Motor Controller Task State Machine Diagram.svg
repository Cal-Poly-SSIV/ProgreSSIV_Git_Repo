<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: MC_state_machine Pages: 1 -->
<svg width="4912pt" height="360pt"
 viewBox="0.00 0.00 4911.70 359.87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 355.87)">
<title>MC_state_machine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-355.87 4907.7,-355.87 4907.7,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<text text-anchor="middle" x="27" y="-61.3" font-family="Times New Roman,serif" font-size="14.00">Start</text>
</g>
<!-- S0 -->
<g id="node2" class="node"><title>S0</title>
<ellipse fill="none" stroke="black" cx="134.841" cy="-65" rx="43.6818" ry="26.7407"/>
<text text-anchor="middle" x="134.841" y="-68.8" font-family="Times New Roman,serif" font-size="14.00">State 0: </text>
<text text-anchor="middle" x="134.841" y="-53.8" font-family="Times New Roman,serif" font-size="14.00">Init</text>
</g>
<!-- start&#45;&gt;S0 -->
<g id="edge1" class="edge"><title>start&#45;&gt;S0</title>
<path fill="none" stroke="black" d="M54.1629,-65C62.1687,-65 71.2833,-65 80.4178,-65"/>
<polygon fill="black" stroke="black" points="80.6815,-68.5001 90.6815,-65 80.6814,-61.5001 80.6815,-68.5001"/>
</g>
<!-- S1 -->
<g id="node3" class="node"><title>S1</title>
<ellipse fill="none" stroke="black" cx="450.735" cy="-146" rx="65.1077" ry="37.4533"/>
<text text-anchor="middle" x="450.735" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 1: </text>
<text text-anchor="middle" x="450.735" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait for MC </text>
<text text-anchor="middle" x="450.735" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">on flag</text>
</g>
<!-- S0&#45;&gt;S1 -->
<g id="edge2" class="edge"><title>S0&#45;&gt;S1</title>
<path fill="none" stroke="black" d="M175.596,-75.2587C227.271,-88.5935 318.327,-112.09 381.235,-128.324"/>
<polygon fill="black" stroke="black" points="380.522,-131.754 391.079,-130.864 382.271,-124.976 380.522,-131.754"/>
<text text-anchor="middle" x="282.181" y="-173.8" font-family="Times New Roman,serif" font-size="14.00"> [ Always/ </text>
<text text-anchor="middle" x="282.181" y="-158.8" font-family="Times New Roman,serif" font-size="14.00"> op_mode_SDO_count = 0, </text>
<text text-anchor="middle" x="282.181" y="-143.8" font-family="Times New Roman,serif" font-size="14.00">bootup_count = 0, </text>
<text text-anchor="middle" x="282.181" y="-128.8" font-family="Times New Roman,serif" font-size="14.00">inhibit_time_SDO_count = 0] </text>
</g>
<!-- S2 -->
<g id="node4" class="node"><title>S2</title>
<ellipse fill="none" stroke="black" cx="793.792" cy="-146" rx="70.0071" ry="37.4533"/>
<text text-anchor="middle" x="793.792" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 2: </text>
<text text-anchor="middle" x="793.792" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait for reset </text>
<text text-anchor="middle" x="793.792" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">node complete</text>
</g>
<!-- S1&#45;&gt;S2 -->
<g id="edge3" class="edge"><title>S1&#45;&gt;S2</title>
<path fill="none" stroke="black" d="M515.885,-146C571.885,-146 653.367,-146 713.452,-146"/>
<polygon fill="black" stroke="black" points="713.656,-149.5 723.656,-146 713.656,-142.5 713.656,-149.5"/>
<text text-anchor="middle" x="619.789" y="-164.8" font-family="Times New Roman,serif" font-size="14.00"> [ Init Motor Controllers true / </text>
<text text-anchor="middle" x="619.789" y="-149.8" font-family="Times New Roman,serif" font-size="14.00">send reset nodes msg ] </text>
</g>
<!-- S3 -->
<g id="node5" class="node"><title>S3</title>
<ellipse fill="none" stroke="black" cx="1191.81" cy="-146" rx="111.032" ry="37.4533"/>
<text text-anchor="middle" x="1191.81" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 3: </text>
<text text-anchor="middle" x="1191.81" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait for reset </text>
<text text-anchor="middle" x="1191.81" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">communication complete</text>
</g>
<!-- S2&#45;&gt;S3 -->
<g id="edge4" class="edge"><title>S2&#45;&gt;S3</title>
<path fill="none" stroke="black" d="M864.227,-146C921.091,-146 1002.88,-146 1070.38,-146"/>
<polygon fill="black" stroke="black" points="1070.66,-149.5 1080.66,-146 1070.66,-142.5 1070.66,-149.5"/>
<text text-anchor="middle" x="972.296" y="-179.8" font-family="Times New Roman,serif" font-size="14.00"> [ bootup_count == 4 / </text>
<text text-anchor="middle" x="972.296" y="-164.8" font-family="Times New Roman,serif" font-size="14.00">bootup_count = 0, </text>
<text text-anchor="middle" x="972.296" y="-149.8" font-family="Times New Roman,serif" font-size="14.00">send reset communication msg] </text>
</g>
<!-- S4 -->
<g id="node6" class="node"><title>S4</title>
<ellipse fill="none" stroke="black" cx="1627.43" cy="-147" rx="109.703" ry="37.4533"/>
<text text-anchor="middle" x="1627.43" y="-158.3" font-family="Times New Roman,serif" font-size="14.00">State 4: </text>
<text text-anchor="middle" x="1627.43" y="-143.3" font-family="Times New Roman,serif" font-size="14.00">Wait for torque </text>
<text text-anchor="middle" x="1627.43" y="-128.3" font-family="Times New Roman,serif" font-size="14.00">mode SDO confirmation</text>
</g>
<!-- S3&#45;&gt;S4 -->
<g id="edge5" class="edge"><title>S3&#45;&gt;S4</title>
<path fill="none" stroke="black" d="M1303.07,-146.254C1365.59,-146.398 1443.84,-146.579 1507.71,-146.726"/>
<polygon fill="black" stroke="black" points="1507.82,-150.226 1517.83,-146.75 1507.84,-143.226 1507.82,-150.226"/>
<text text-anchor="middle" x="1410.33" y="-180.8" font-family="Times New Roman,serif" font-size="14.00"> [ bootup_count == 4 / </text>
<text text-anchor="middle" x="1410.33" y="-165.8" font-family="Times New Roman,serif" font-size="14.00">send enter pre operational msg, </text>
<text text-anchor="middle" x="1410.33" y="-150.8" font-family="Times New Roman,serif" font-size="14.00">send set torque op mode msg]</text>
</g>
<!-- S5 -->
<g id="node7" class="node"><title>S5</title>
<ellipse fill="none" stroke="black" cx="2073.03" cy="-150" rx="103.476" ry="37.4533"/>
<text text-anchor="middle" x="2073.03" y="-161.3" font-family="Times New Roman,serif" font-size="14.00">State 5: </text>
<text text-anchor="middle" x="2073.03" y="-146.3" font-family="Times New Roman,serif" font-size="14.00">Wait for inhibit </text>
<text text-anchor="middle" x="2073.03" y="-131.3" font-family="Times New Roman,serif" font-size="14.00">time SDO confirmation</text>
</g>
<!-- S4&#45;&gt;S5 -->
<g id="edge6" class="edge"><title>S4&#45;&gt;S5</title>
<path fill="none" stroke="black" d="M1737.23,-147.736C1804.69,-148.192 1891.19,-148.777 1959.36,-149.238"/>
<polygon fill="black" stroke="black" points="1959.69,-152.74 1969.71,-149.308 1959.74,-145.74 1959.69,-152.74"/>
<text text-anchor="middle" x="1847.03" y="-168.8" font-family="Times New Roman,serif" font-size="14.00"> [ op_mode_SDO_count == 4 / </text>
<text text-anchor="middle" x="1847.03" y="-153.8" font-family="Times New Roman,serif" font-size="14.00">send set inhibit time msg]</text>
</g>
<!-- S6 -->
<g id="node8" class="node"><title>S6</title>
<ellipse fill="none" stroke="black" cx="2493.28" cy="-163" rx="74.4932" ry="37.4533"/>
<text text-anchor="middle" x="2493.28" y="-174.3" font-family="Times New Roman,serif" font-size="14.00">State 6: </text>
<text text-anchor="middle" x="2493.28" y="-159.3" font-family="Times New Roman,serif" font-size="14.00">Wait for remote</text>
<text text-anchor="middle" x="2493.28" y="-144.3" font-family="Times New Roman,serif" font-size="14.00">nodes start</text>
</g>
<!-- S5&#45;&gt;S6 -->
<g id="edge7" class="edge"><title>S5&#45;&gt;S6</title>
<path fill="none" stroke="black" d="M2176.08,-153.172C2247.61,-155.395 2342.04,-158.33 2409.02,-160.412"/>
<polygon fill="black" stroke="black" points="2409.01,-163.914 2419.12,-160.726 2409.23,-156.917 2409.01,-163.914"/>
<text text-anchor="middle" x="2304.03" y="-178.8" font-family="Times New Roman,serif" font-size="14.00"> [ inhibit_time_SDO_count == 4 / </text>
<text text-anchor="middle" x="2304.03" y="-163.8" font-family="Times New Roman,serif" font-size="14.00">send start remote nodes msg]</text>
</g>
<!-- S7 -->
<g id="node9" class="node"><title>S7</title>
<ellipse fill="none" stroke="black" cx="2867.43" cy="-181" rx="79.8063" ry="37.4533"/>
<text text-anchor="middle" x="2867.43" y="-192.3" font-family="Times New Roman,serif" font-size="14.00">State 7: </text>
<text text-anchor="middle" x="2867.43" y="-177.3" font-family="Times New Roman,serif" font-size="14.00">Wait for ready to</text>
<text text-anchor="middle" x="2867.43" y="-162.3" font-family="Times New Roman,serif" font-size="14.00">switch on state</text>
</g>
<!-- S6&#45;&gt;S7 -->
<g id="edge8" class="edge"><title>S6&#45;&gt;S7</title>
<path fill="none" stroke="black" d="M2567.36,-166.535C2627.64,-169.45 2713.38,-173.597 2777.61,-176.704"/>
<polygon fill="black" stroke="black" points="2777.57,-180.206 2787.73,-177.193 2777.91,-173.214 2777.57,-180.206"/>
<text text-anchor="middle" x="2677.52" y="-195.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b01000000/ </text>
<text text-anchor="middle" x="2677.52" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Shutdown Command]</text>
</g>
<!-- S8 -->
<g id="node10" class="node"><title>S8</title>
<ellipse fill="none" stroke="black" cx="3653.47" cy="-183" rx="84.2917" ry="37.4533"/>
<text text-anchor="middle" x="3653.47" y="-194.3" font-family="Times New Roman,serif" font-size="14.00">State 8: </text>
<text text-anchor="middle" x="3653.47" y="-179.3" font-family="Times New Roman,serif" font-size="14.00">Wait for operation</text>
<text text-anchor="middle" x="3653.47" y="-164.3" font-family="Times New Roman,serif" font-size="14.00">enabled state</text>
</g>
<!-- S7&#45;&gt;S8 -->
<g id="edge9" class="edge"><title>S7&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M2947.56,-181.202C3093.28,-181.574 3403.36,-182.365 3559.11,-182.762"/>
<polygon fill="black" stroke="black" points="3559.13,-186.262 3569.14,-182.787 3559.15,-179.262 3559.13,-186.262"/>
<text text-anchor="middle" x="3259.33" y="-216.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100001, </text>
<text text-anchor="middle" x="3259.33" y="-201.8" font-family="Times New Roman,serif" font-size="14.00">!dead_switch / </text>
<text text-anchor="middle" x="3259.33" y="-186.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
<!-- S9 -->
<g id="node11" class="node"><title>S9</title>
<ellipse fill="none" stroke="black" cx="3259.33" cy="-325" rx="72.25" ry="26.7407"/>
<text text-anchor="middle" x="3259.33" y="-328.8" font-family="Times New Roman,serif" font-size="14.00">State 9: </text>
<text text-anchor="middle" x="3259.33" y="-313.8" font-family="Times New Roman,serif" font-size="14.00">Wait for trigger</text>
</g>
<!-- S7&#45;&gt;S9 -->
<g id="edge10" class="edge"><title>S7&#45;&gt;S9</title>
<path fill="none" stroke="black" d="M2917.78,-210.46C2932.74,-218.717 2949.44,-227.267 2965.33,-234 3039.66,-265.498 3128.68,-291.596 3188.94,-307.648"/>
<polygon fill="black" stroke="black" points="3188.16,-311.064 3198.73,-310.235 3189.95,-304.296 3188.16,-311.064"/>
<text text-anchor="middle" x="3057.33" y="-314.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100001, </text>
<text text-anchor="middle" x="3057.33" y="-299.8" font-family="Times New Roman,serif" font-size="14.00">dead_switch ]</text>
</g>
<!-- S10 -->
<g id="node12" class="node"><title>S10</title>
<ellipse fill="none" stroke="black" cx="4046.89" cy="-40" rx="86.0347" ry="37.4533"/>
<text text-anchor="middle" x="4046.89" y="-51.3" font-family="Times New Roman,serif" font-size="14.00">State 10: </text>
<text text-anchor="middle" x="4046.89" y="-36.3" font-family="Times New Roman,serif" font-size="14.00">Operation enabled </text>
<text text-anchor="middle" x="4046.89" y="-21.3" font-family="Times New Roman,serif" font-size="14.00">actuate torque</text>
</g>
<!-- S8&#45;&gt;S10 -->
<g id="edge12" class="edge"><title>S8&#45;&gt;S10</title>
<path fill="none" stroke="black" d="M3688.59,-148.446C3706.97,-131.716 3730.92,-112.754 3755.62,-101 3817.38,-71.6099 3893.18,-56.2965 3951.84,-48.3644"/>
<polygon fill="black" stroke="black" points="3952.38,-51.8239 3961.84,-47.0605 3951.47,-44.8827 3952.38,-51.8239"/>
<text text-anchor="middle" x="3849.12" y="-119.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100111 / </text>
<text text-anchor="middle" x="3849.12" y="-104.8" font-family="Times New Roman,serif" font-size="14.00">torque actuations zeroed ]</text>
</g>
<!-- S9&#45;&gt;S8 -->
<g id="edge11" class="edge"><title>S9&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M3319.01,-309.703C3378.49,-293.492 3472.71,-265.861 3551.33,-234 3564.16,-228.799 3577.59,-222.601 3590.31,-216.348"/>
<polygon fill="black" stroke="black" points="3592.04,-219.394 3599.43,-211.798 3588.92,-213.131 3592.04,-219.394"/>
<text text-anchor="middle" x="3460.33" y="-313.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &gt;= 200 / </text>
<text text-anchor="middle" x="3460.33" y="-298.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
<!-- S10&#45;&gt;S0 -->
<g id="edge16" class="edge"><title>S10&#45;&gt;S0</title>
<path fill="none" stroke="black" d="M3965.92,-27.0131C3886.99,-15.3334 3762.74,-0 3654.47,-0 449.735,-0 449.735,-0 449.735,-0 353.527,-0 244.113,-29.6417 183.202,-48.8912"/>
<polygon fill="black" stroke="black" points="181.946,-45.6182 173.491,-52.0025 184.082,-52.2844 181.946,-45.6182"/>
<text text-anchor="middle" x="2073.03" y="-3.8" font-family="Times New Roman,serif" font-size="14.00"> [ watchdog_flag / shutdown command ] </text>
</g>
<!-- S11 -->
<g id="node13" class="node"><title>S11</title>
<ellipse fill="none" stroke="black" cx="4448.94" cy="-40" rx="77.5641" ry="37.4533"/>
<text text-anchor="middle" x="4448.94" y="-51.3" font-family="Times New Roman,serif" font-size="14.00">State 11: </text>
<text text-anchor="middle" x="4448.94" y="-36.3" font-family="Times New Roman,serif" font-size="14.00">Wait for quick &#45; </text>
<text text-anchor="middle" x="4448.94" y="-21.3" font-family="Times New Roman,serif" font-size="14.00">stop active</text>
</g>
<!-- S10&#45;&gt;S11 -->
<g id="edge13" class="edge"><title>S10&#45;&gt;S11</title>
<path fill="none" stroke="black" d="M4133.22,-40C4200.23,-40 4293.17,-40 4360.67,-40"/>
<polygon fill="black" stroke="black" points="4360.86,-43.5001 4370.86,-40 4360.86,-36.5001 4360.86,-43.5001"/>
<text text-anchor="middle" x="4252.15" y="-58.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &lt;200 &amp;&amp; dead_switch / </text>
<text text-anchor="middle" x="4252.15" y="-43.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Quickstop Command ]</text>
</g>
<!-- S12 -->
<g id="node14" class="node"><title>S12</title>
<ellipse fill="none" stroke="black" cx="4825.21" cy="-135" rx="78.4777" ry="26.7407"/>
<text text-anchor="middle" x="4825.21" y="-138.8" font-family="Times New Roman,serif" font-size="14.00">State 12: </text>
<text text-anchor="middle" x="4825.21" y="-123.8" font-family="Times New Roman,serif" font-size="14.00">Quickstop active</text>
</g>
<!-- S11&#45;&gt;S12 -->
<g id="edge14" class="edge"><title>S11&#45;&gt;S12</title>
<path fill="none" stroke="black" d="M4518.15,-57.314C4584.36,-74.1216 4684.5,-99.539 4752.03,-116.68"/>
<polygon fill="black" stroke="black" points="4751.2,-120.079 4761.75,-119.147 4752.92,-113.294 4751.2,-120.079"/>
<text text-anchor="middle" x="4636.72" y="-113.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00000111 ]</text>
</g>
<!-- S12&#45;&gt;S8 -->
<g id="edge15" class="edge"><title>S12&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M4748.91,-141.636C4742.09,-142.139 4735.28,-142.603 4728.72,-143 4366.3,-164.917 3934.33,-176.623 3747.81,-180.981"/>
<polygon fill="black" stroke="black" points="3747.69,-177.482 3737.77,-181.214 3747.85,-184.481 3747.69,-177.482"/>
<text text-anchor="middle" x="4252.15" y="-188.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &gt;= 200 / </text>
<text text-anchor="middle" x="4252.15" y="-173.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
</g>
</svg>
