<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: MC_state_machine Pages: 1 -->
<svg width="4877pt" height="360pt"
 viewBox="0.00 0.00 4877.18 359.87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 355.87)">
<title>MC_state_machine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-355.87 4873.18,-355.87 4873.18,4 -4,4"/>
<!-- start -->
<g id="node1" class="node"><title>start</title>
<text text-anchor="middle" x="27" y="-61.3" font-family="Times New Roman,serif" font-size="14.00">Start</text>
</g>
<!-- S0 -->
<g id="node2" class="node"><title>S0</title>
<ellipse fill="none" stroke="black" cx="134.841" cy="-65" rx="43.6818" ry="26.7407"/>
<text text-anchor="middle" x="134.841" y="-68.8" font-family="Times New Roman,serif" font-size="14.00">State 0: </text>
<text text-anchor="middle" x="134.841" y="-53.8" font-family="Times New Roman,serif" font-size="14.00">Init</text>
</g>
<!-- start&#45;&gt;S0 -->
<g id="edge1" class="edge"><title>start&#45;&gt;S0</title>
<path fill="none" stroke="black" d="M54.1629,-65C62.1687,-65 71.2833,-65 80.4178,-65"/>
<polygon fill="black" stroke="black" points="80.6815,-68.5001 90.6815,-65 80.6814,-61.5001 80.6815,-68.5001"/>
</g>
<!-- S1 -->
<g id="node3" class="node"><title>S1</title>
<ellipse fill="none" stroke="black" cx="454.978" cy="-146" rx="69.0935" ry="37.4533"/>
<text text-anchor="middle" x="454.978" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 1: </text>
<text text-anchor="middle" x="454.978" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait init MCs </text>
<text text-anchor="middle" x="454.978" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">on flag</text>
</g>
<!-- S0&#45;&gt;S1 -->
<g id="edge2" class="edge"><title>S0&#45;&gt;S1</title>
<path fill="none" stroke="black" d="M175.49,-75.0949C227.033,-88.2182 317.999,-111.379 381.907,-127.65"/>
<polygon fill="black" stroke="black" points="381.366,-131.124 391.921,-130.2 383.094,-124.341 381.366,-131.124"/>
<text text-anchor="middle" x="282.181" y="-171.8" font-family="Times New Roman,serif" font-size="14.00"> [ Always/ </text>
<text text-anchor="middle" x="282.181" y="-156.8" font-family="Times New Roman,serif" font-size="14.00"> op_mode_SDO_count = 0, </text>
<text text-anchor="middle" x="282.181" y="-141.8" font-family="Times New Roman,serif" font-size="14.00">bootup_count = 0, </text>
<text text-anchor="middle" x="282.181" y="-126.8" font-family="Times New Roman,serif" font-size="14.00">inhibit_time_SDO_count = 0] </text>
</g>
<!-- S2 -->
<g id="node4" class="node"><title>S2</title>
<ellipse fill="none" stroke="black" cx="759.278" cy="-146" rx="70.0071" ry="37.4533"/>
<text text-anchor="middle" x="759.278" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 2: </text>
<text text-anchor="middle" x="759.278" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait for reset </text>
<text text-anchor="middle" x="759.278" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">node complete</text>
</g>
<!-- S1&#45;&gt;S2 -->
<g id="edge3" class="edge"><title>S1&#45;&gt;S2</title>
<path fill="none" stroke="black" d="M524.574,-146C570.518,-146 631.141,-146 679.13,-146"/>
<polygon fill="black" stroke="black" points="679.168,-149.5 689.168,-146 679.168,-142.5 679.168,-149.5"/>
<text text-anchor="middle" x="606.774" y="-179.8" font-family="Times New Roman,serif" font-size="14.00"> [ Init_MCs / </text>
<text text-anchor="middle" x="606.774" y="-164.8" font-family="Times New Roman,serif" font-size="14.00">send reset nodes msg, </text>
<text text-anchor="middle" x="606.774" y="-149.8" font-family="Times New Roman,serif" font-size="14.00">Init_MCs = 0 ] </text>
</g>
<!-- S3 -->
<g id="node5" class="node"><title>S3</title>
<ellipse fill="none" stroke="black" cx="1157.3" cy="-146" rx="111.032" ry="37.4533"/>
<text text-anchor="middle" x="1157.3" y="-157.3" font-family="Times New Roman,serif" font-size="14.00">State 3: </text>
<text text-anchor="middle" x="1157.3" y="-142.3" font-family="Times New Roman,serif" font-size="14.00">Wait for reset </text>
<text text-anchor="middle" x="1157.3" y="-127.3" font-family="Times New Roman,serif" font-size="14.00">communication complete</text>
</g>
<!-- S2&#45;&gt;S3 -->
<g id="edge4" class="edge"><title>S2&#45;&gt;S3</title>
<path fill="none" stroke="black" d="M829.712,-146C886.576,-146 968.364,-146 1035.87,-146"/>
<polygon fill="black" stroke="black" points="1036.14,-149.5 1046.14,-146 1036.14,-142.5 1036.14,-149.5"/>
<text text-anchor="middle" x="937.781" y="-179.8" font-family="Times New Roman,serif" font-size="14.00"> [ bootup_count == 4 / </text>
<text text-anchor="middle" x="937.781" y="-164.8" font-family="Times New Roman,serif" font-size="14.00">bootup_count = 0, </text>
<text text-anchor="middle" x="937.781" y="-149.8" font-family="Times New Roman,serif" font-size="14.00">send reset communication msg] </text>
</g>
<!-- S4 -->
<g id="node6" class="node"><title>S4</title>
<ellipse fill="none" stroke="black" cx="1592.91" cy="-147" rx="109.703" ry="37.4533"/>
<text text-anchor="middle" x="1592.91" y="-158.3" font-family="Times New Roman,serif" font-size="14.00">State 4: </text>
<text text-anchor="middle" x="1592.91" y="-143.3" font-family="Times New Roman,serif" font-size="14.00">Wait for torque </text>
<text text-anchor="middle" x="1592.91" y="-128.3" font-family="Times New Roman,serif" font-size="14.00">mode SDO confirmation</text>
</g>
<!-- S3&#45;&gt;S4 -->
<g id="edge5" class="edge"><title>S3&#45;&gt;S4</title>
<path fill="none" stroke="black" d="M1268.56,-146.254C1331.08,-146.398 1409.33,-146.579 1473.19,-146.726"/>
<polygon fill="black" stroke="black" points="1473.31,-150.226 1483.31,-146.75 1473.32,-143.226 1473.31,-150.226"/>
<text text-anchor="middle" x="1375.81" y="-180.8" font-family="Times New Roman,serif" font-size="14.00"> [ bootup_count == 4 / </text>
<text text-anchor="middle" x="1375.81" y="-165.8" font-family="Times New Roman,serif" font-size="14.00">send enter pre operational msg, </text>
<text text-anchor="middle" x="1375.81" y="-150.8" font-family="Times New Roman,serif" font-size="14.00">send set torque op mode msg]</text>
</g>
<!-- S5 -->
<g id="node7" class="node"><title>S5</title>
<ellipse fill="none" stroke="black" cx="2038.52" cy="-150" rx="103.476" ry="37.4533"/>
<text text-anchor="middle" x="2038.52" y="-161.3" font-family="Times New Roman,serif" font-size="14.00">State 5: </text>
<text text-anchor="middle" x="2038.52" y="-146.3" font-family="Times New Roman,serif" font-size="14.00">Wait for inhibit </text>
<text text-anchor="middle" x="2038.52" y="-131.3" font-family="Times New Roman,serif" font-size="14.00">time SDO confirmation</text>
</g>
<!-- S4&#45;&gt;S5 -->
<g id="edge6" class="edge"><title>S4&#45;&gt;S5</title>
<path fill="none" stroke="black" d="M1702.72,-147.736C1770.18,-148.192 1856.67,-148.777 1924.85,-149.238"/>
<polygon fill="black" stroke="black" points="1925.17,-152.74 1935.2,-149.308 1925.22,-145.74 1925.17,-152.74"/>
<text text-anchor="middle" x="1812.52" y="-183.8" font-family="Times New Roman,serif" font-size="14.00"> [ op_mode_SDO_count == 4 / </text>
<text text-anchor="middle" x="1812.52" y="-168.8" font-family="Times New Roman,serif" font-size="14.00">send set inhibit time msg, </text>
<text text-anchor="middle" x="1812.52" y="-153.8" font-family="Times New Roman,serif" font-size="14.00">op_mode_SDO_count = 0]</text>
</g>
<!-- S6 -->
<g id="node8" class="node"><title>S6</title>
<ellipse fill="none" stroke="black" cx="2458.76" cy="-163" rx="74.4932" ry="37.4533"/>
<text text-anchor="middle" x="2458.76" y="-174.3" font-family="Times New Roman,serif" font-size="14.00">State 6: </text>
<text text-anchor="middle" x="2458.76" y="-159.3" font-family="Times New Roman,serif" font-size="14.00">Wait for remote</text>
<text text-anchor="middle" x="2458.76" y="-144.3" font-family="Times New Roman,serif" font-size="14.00">nodes start</text>
</g>
<!-- S5&#45;&gt;S6 -->
<g id="edge7" class="edge"><title>S5&#45;&gt;S6</title>
<path fill="none" stroke="black" d="M2141.56,-153.172C2213.1,-155.395 2307.52,-158.33 2374.51,-160.412"/>
<polygon fill="black" stroke="black" points="2374.5,-163.914 2384.6,-160.726 2374.71,-156.917 2374.5,-163.914"/>
<text text-anchor="middle" x="2269.52" y="-193.8" font-family="Times New Roman,serif" font-size="14.00"> [ inhibit_time_SDO_count == 4 / </text>
<text text-anchor="middle" x="2269.52" y="-178.8" font-family="Times New Roman,serif" font-size="14.00">send start remote nodes msg, </text>
<text text-anchor="middle" x="2269.52" y="-163.8" font-family="Times New Roman,serif" font-size="14.00">inhibit_time_SDO_count = 0]</text>
</g>
<!-- S7 -->
<g id="node9" class="node"><title>S7</title>
<ellipse fill="none" stroke="black" cx="2832.91" cy="-181" rx="79.8063" ry="37.4533"/>
<text text-anchor="middle" x="2832.91" y="-192.3" font-family="Times New Roman,serif" font-size="14.00">State 7: </text>
<text text-anchor="middle" x="2832.91" y="-177.3" font-family="Times New Roman,serif" font-size="14.00">Wait for ready to</text>
<text text-anchor="middle" x="2832.91" y="-162.3" font-family="Times New Roman,serif" font-size="14.00">switch on state</text>
</g>
<!-- S6&#45;&gt;S7 -->
<g id="edge8" class="edge"><title>S6&#45;&gt;S7</title>
<path fill="none" stroke="black" d="M2532.84,-166.535C2593.12,-169.45 2678.86,-173.597 2743.09,-176.704"/>
<polygon fill="black" stroke="black" points="2743.05,-180.206 2753.21,-177.193 2743.39,-173.214 2743.05,-180.206"/>
<text text-anchor="middle" x="2643.01" y="-195.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b01000000/ </text>
<text text-anchor="middle" x="2643.01" y="-180.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Shutdown Command]</text>
</g>
<!-- S8 -->
<g id="node10" class="node"><title>S8</title>
<ellipse fill="none" stroke="black" cx="3618.96" cy="-183" rx="84.2917" ry="37.4533"/>
<text text-anchor="middle" x="3618.96" y="-194.3" font-family="Times New Roman,serif" font-size="14.00">State 8: </text>
<text text-anchor="middle" x="3618.96" y="-179.3" font-family="Times New Roman,serif" font-size="14.00">Wait for operation</text>
<text text-anchor="middle" x="3618.96" y="-164.3" font-family="Times New Roman,serif" font-size="14.00">enabled state</text>
</g>
<!-- S7&#45;&gt;S8 -->
<g id="edge9" class="edge"><title>S7&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M2913.04,-181.202C3058.76,-181.574 3368.84,-182.365 3524.59,-182.762"/>
<polygon fill="black" stroke="black" points="3524.62,-186.262 3534.62,-182.787 3524.63,-179.262 3524.62,-186.262"/>
<text text-anchor="middle" x="3224.81" y="-216.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100001, </text>
<text text-anchor="middle" x="3224.81" y="-201.8" font-family="Times New Roman,serif" font-size="14.00">!dead_switch / </text>
<text text-anchor="middle" x="3224.81" y="-186.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
<!-- S9 -->
<g id="node11" class="node"><title>S9</title>
<ellipse fill="none" stroke="black" cx="3224.81" cy="-325" rx="72.25" ry="26.7407"/>
<text text-anchor="middle" x="3224.81" y="-328.8" font-family="Times New Roman,serif" font-size="14.00">State 9: </text>
<text text-anchor="middle" x="3224.81" y="-313.8" font-family="Times New Roman,serif" font-size="14.00">Wait for trigger</text>
</g>
<!-- S7&#45;&gt;S9 -->
<g id="edge10" class="edge"><title>S7&#45;&gt;S9</title>
<path fill="none" stroke="black" d="M2883.26,-210.46C2898.23,-218.717 2914.92,-227.267 2930.81,-234 3005.15,-265.498 3094.16,-291.596 3154.42,-307.648"/>
<polygon fill="black" stroke="black" points="3153.65,-311.064 3164.21,-310.235 3155.44,-304.296 3153.65,-311.064"/>
<text text-anchor="middle" x="3022.81" y="-314.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100001, </text>
<text text-anchor="middle" x="3022.81" y="-299.8" font-family="Times New Roman,serif" font-size="14.00">dead_switch ]</text>
</g>
<!-- S10 -->
<g id="node12" class="node"><title>S10</title>
<ellipse fill="none" stroke="black" cx="4012.37" cy="-40" rx="86.0347" ry="37.4533"/>
<text text-anchor="middle" x="4012.37" y="-51.3" font-family="Times New Roman,serif" font-size="14.00">State 10: </text>
<text text-anchor="middle" x="4012.37" y="-36.3" font-family="Times New Roman,serif" font-size="14.00">Operation enabled </text>
<text text-anchor="middle" x="4012.37" y="-21.3" font-family="Times New Roman,serif" font-size="14.00">actuate torque</text>
</g>
<!-- S8&#45;&gt;S10 -->
<g id="edge12" class="edge"><title>S8&#45;&gt;S10</title>
<path fill="none" stroke="black" d="M3654.07,-148.446C3672.46,-131.716 3696.41,-112.754 3721.11,-101 3782.86,-71.6099 3858.67,-56.2965 3917.32,-48.3644"/>
<polygon fill="black" stroke="black" points="3917.86,-51.8239 3927.33,-47.0605 3916.96,-44.8827 3917.86,-51.8239"/>
<text text-anchor="middle" x="3814.61" y="-119.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00100111 / </text>
<text text-anchor="middle" x="3814.61" y="-104.8" font-family="Times New Roman,serif" font-size="14.00">torque actuations zeroed ]</text>
</g>
<!-- S9&#45;&gt;S8 -->
<g id="edge11" class="edge"><title>S9&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M3284.5,-309.703C3343.98,-293.492 3438.2,-265.861 3516.81,-234 3529.65,-228.799 3543.07,-222.601 3555.79,-216.348"/>
<polygon fill="black" stroke="black" points="3557.53,-219.394 3564.91,-211.798 3554.4,-213.131 3557.53,-219.394"/>
<text text-anchor="middle" x="3425.81" y="-328.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &gt;= 200 / </text>
<text text-anchor="middle" x="3425.81" y="-313.8" font-family="Times New Roman,serif" font-size="14.00">local torque actuations zero, </text>
<text text-anchor="middle" x="3425.81" y="-298.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
<!-- S10&#45;&gt;S0 -->
<g id="edge16" class="edge"><title>S10&#45;&gt;S0</title>
<path fill="none" stroke="black" d="M3931.41,-27.0131C3852.47,-15.3334 3728.23,-0 3619.96,-0 453.978,-0 453.978,-0 453.978,-0 356.255,-0 245.003,-29.8043 183.353,-49.0491"/>
<polygon fill="black" stroke="black" points="182.006,-45.804 173.528,-52.1581 184.118,-52.4778 182.006,-45.804"/>
<text text-anchor="middle" x="2038.52" y="-3.8" font-family="Times New Roman,serif" font-size="14.00"> [ watchdog_flag / shutdown command ] </text>
</g>
<!-- S11 -->
<g id="node13" class="node"><title>S11</title>
<ellipse fill="none" stroke="black" cx="4414.42" cy="-40" rx="77.5641" ry="37.4533"/>
<text text-anchor="middle" x="4414.42" y="-51.3" font-family="Times New Roman,serif" font-size="14.00">State 11: </text>
<text text-anchor="middle" x="4414.42" y="-36.3" font-family="Times New Roman,serif" font-size="14.00">Wait for quick &#45; </text>
<text text-anchor="middle" x="4414.42" y="-21.3" font-family="Times New Roman,serif" font-size="14.00">stop active</text>
</g>
<!-- S10&#45;&gt;S11 -->
<g id="edge13" class="edge"><title>S10&#45;&gt;S11</title>
<path fill="none" stroke="black" d="M4098.7,-40C4165.71,-40 4258.66,-40 4326.16,-40"/>
<polygon fill="black" stroke="black" points="4326.34,-43.5001 4336.34,-40 4326.34,-36.5001 4326.34,-43.5001"/>
<text text-anchor="middle" x="4217.64" y="-73.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &lt;200 &amp;&amp; dead_switch / </text>
<text text-anchor="middle" x="4217.64" y="-58.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO2 write zero torque </text>
<text text-anchor="middle" x="4217.64" y="-43.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Quickstop Command ]</text>
</g>
<!-- S12 -->
<g id="node14" class="node"><title>S12</title>
<ellipse fill="none" stroke="black" cx="4790.69" cy="-135" rx="78.4777" ry="26.7407"/>
<text text-anchor="middle" x="4790.69" y="-138.8" font-family="Times New Roman,serif" font-size="14.00">State 12: </text>
<text text-anchor="middle" x="4790.69" y="-123.8" font-family="Times New Roman,serif" font-size="14.00">Quickstop active</text>
</g>
<!-- S11&#45;&gt;S12 -->
<g id="edge14" class="edge"><title>S11&#45;&gt;S12</title>
<path fill="none" stroke="black" d="M4483.63,-57.314C4549.85,-74.1216 4649.99,-99.539 4717.52,-116.68"/>
<polygon fill="black" stroke="black" points="4716.68,-120.079 4727.24,-119.147 4718.41,-113.294 4716.68,-120.079"/>
<text text-anchor="middle" x="4602.2" y="-113.8" font-family="Times New Roman,serif" font-size="14.00"> [ statuswords[] &amp; 0b00000111 ]</text>
</g>
<!-- S12&#45;&gt;S8 -->
<g id="edge15" class="edge"><title>S12&#45;&gt;S8</title>
<path fill="none" stroke="black" d="M4714.4,-141.636C4707.57,-142.139 4700.76,-142.603 4694.2,-143 4331.79,-164.917 3899.81,-176.623 3713.3,-180.981"/>
<polygon fill="black" stroke="black" points="3713.17,-177.482 3703.26,-181.214 3713.33,-184.481 3713.17,-177.482"/>
<text text-anchor="middle" x="4217.64" y="-188.8" font-family="Times New Roman,serif" font-size="14.00"> [ THR_in &gt;= 200 / </text>
<text text-anchor="middle" x="4217.64" y="-173.8" font-family="Times New Roman,serif" font-size="14.00">RxPDO1 Enable Op Command]</text>
</g>
</g>
</svg>
